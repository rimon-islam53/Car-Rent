<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Car Details - AutoRent</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-50">
    <!-- Navbar -->
    <nav class="bg-white shadow-md">
      <div
        class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center"
      >
        <a href="index.html" class="text-2xl font-bold text-blue-600"
          >AutoRent</a
        >
        <div class="hidden md:flex space-x-6">
          <a href="index.html" class="text-gray-700 hover:text-blue-600"
            >Home</a
          >
          <a href="cars.html" class="text-gray-700 hover:text-blue-600">Cars</a>
          <a href="login.html" class="text-gray-700 hover:text-blue-600"
            >Login</a
          >
        </div>
      </div>
    </nav>

    <main
      class="max-w-5xl mx-auto px-6 py-10 bg-white rounded-lg shadow-lg mt-10"
    >
      <div id="carDetails" class="grid md:grid-cols-2 gap-8">
        <!-- Left: Car Images -->
        <div>
          <img
            id="carImage"
            src=""
            alt="Car Image"
            class="rounded-lg w-full h-80 object-cover mb-4"
          />
        </div>

        <!-- Right: Car Info -->
        <div>
          <h1 id="carName" class="text-3xl font-bold text-blue-600 mb-2">
            Loading...
          </h1>
          <p id="carBrand" class="text-gray-700 mb-1"></p>
          <p id="carType" class="text-gray-700 mb-1"></p>
          <p id="carSeats" class="text-gray-700 mb-1"></p>
          <p id="carFuel" class="text-gray-700 mb-4"></p>
          <p
            class="text-2xl font-semibold text-green-600 mb-6"
            id="carPrice"
          ></p>

          <a
            id="rentNowBtn"
            href="booking.html?car_id=0"
            class="inline-block bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700"
            >Rent Now</a
          >
        </div>
      </div>
    </main>

    <script>
      // Sample car data (same as cars.html, ideally should be from API)
      const cars = [
        {
          id: 1,
          name: "Toyota Corolla",
          brand: "Toyota",
          type: "Sedan",
          seats: 5,
          fuel_type: "Petrol",
          price_per_day: 50,
          image: "assets/images/corolla.jpg",
        },
        {
          id: 2,
          name: "Honda Civic",
          brand: "Honda",
          type: "Sedan",
          seats: 5,
          fuel_type: "Petrol",
          price_per_day: 60,
          image: "assets/images/civic.jpg",
        },
        {
          id: 3,
          name: "BMW X5",
          brand: "BMW",
          type: "SUV",
          seats: 5,
          fuel_type: "Diesel",
          price_per_day: 120,
          image: "assets/images/bmw_x5.jpg",
        },
        {
          id: 4,
          name: "Ford Ranger",
          brand: "Ford",
          type: "Truck",
          seats: 5,
          fuel_type: "Diesel",
          price_per_day: 80,
          image: "assets/images/ford_ranger.jpg",
        },
      ];

      // Get car_id from URL query string
      const params = new URLSearchParams(window.location.search);
      const carId = parseInt(params.get("id"));

      // Find the car object
      const car = cars.find((c) => c.id === carId);

      if (car) {
        document.getElementById("carName").textContent = car.name;
        document.getElementById("carBrand").textContent = `Brand: ${car.brand}`;
        document.getElementById("carType").textContent = `Type: ${car.type}`;
        document.getElementById("carSeats").textContent = `Seats: ${car.seats}`;
        document.getElementById(
          "carFuel"
        ).textContent = `Fuel Type: ${car.fuel_type}`;
        document.getElementById(
          "carPrice"
        ).textContent = `â‚±${car.price_per_day} / day`;
        document.getElementById("carImage").src = car.image;
        document.getElementById(
          "rentNowBtn"
        ).href = `booking.html?car_id=${car.id}`;
      } else {
        // If no car found, show error
        document.getElementById("carDetails").innerHTML =
          '<p class="text-red-600 text-center text-xl col-span-full">Car not found.</p>';
      }
    </script>
  </body>
</html>
